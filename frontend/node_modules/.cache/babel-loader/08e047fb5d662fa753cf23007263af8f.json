{"ast":null,"code":"import _regeneratorRuntime from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{List as MUIList,ListItem,ListItemAvatar,Avatar,ListItemText,ListItemSecondaryAction,IconButton,Slide}from'@material-ui/core';import{Delete,MoneyOff}from'@material-ui/icons';import useStyles from'./styles';import{useAuth}from'../../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var classes=useStyles();var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],Settransactions=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:5000/api/gettransaction',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:currentUser.email})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;Settransactions(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();var deletetransaction=function deletetransaction(id){fetch('http://localhost:5000/api/deletetransaction',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id})});};return/*#__PURE__*/_jsx(MUIList,{dense:false,className:classes.list,children:transactions.map(function(transaction){return/*#__PURE__*/_jsx(Slide,{direction:\"down\",in:true,mountOnEnter:true,unmountOnExit:true,children:/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{className:transaction.type==='Income'?classes.avatarIncome:classes.avatarExpense,children:/*#__PURE__*/_jsx(MoneyOff,{})})}),/*#__PURE__*/_jsx(ListItemText,{primary:transaction.category,secondary:\"$\".concat(transaction.amount,\" - \").concat(transaction.date)}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"delete\",onClick:function onClick(){return deletetransaction(transaction._id);},children:/*#__PURE__*/_jsx(Delete,{})})})]})},transaction._id);})});};export default List;","map":{"version":3,"names":["React","useState","List","MUIList","ListItem","ListItemAvatar","Avatar","ListItemText","ListItemSecondaryAction","IconButton","Slide","Delete","MoneyOff","useStyles","useAuth","jsx","_jsx","jsxs","_jsxs","classes","_useAuth","currentUser","_useState","_useState2","_slicedToArray","transactions","Settransactions","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","email","sent","json","t0","console","log","stop","apply","arguments","deletetransaction","id","dense","className","list","children","map","transaction","direction","in","mountOnEnter","unmountOnExit","type","avatarIncome","avatarExpense","primary","category","secondary","concat","amount","date","edge","onClick","_id"],"sources":["/home/parshwa/Downloads/project/Money-tracker/frontend/src/components/Main/List/List.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { List as MUIList, ListItem, ListItemAvatar, Avatar, ListItemText, ListItemSecondaryAction, IconButton, Slide } from '@material-ui/core';\nimport { Delete, MoneyOff } from '@material-ui/icons';\nimport useStyles from './styles';\nimport { useAuth } from '../../../context/AuthContext';\n\nconst List = () => {\n  const classes = useStyles();\n  const { currentUser } = useAuth();\n  const [transactions, Settransactions] = useState([]);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/gettransaction', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: currentUser.email\n        })\n      });\n      const data = await response.json();\n      Settransactions(data);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n  fetchData()\n\n  const deletetransaction = (id) => {\n    fetch('http://localhost:5000/api/deletetransaction', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    })\n  }\n\n  return (\n    <MUIList dense={false} className={classes.list}>\n      {transactions.map((transaction) => (\n        <Slide direction=\"down\" in mountOnEnter unmountOnExit key={transaction._id}>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar className={transaction.type === 'Income' ? classes.avatarIncome : classes.avatarExpense}>\n                <MoneyOff />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary={transaction.category} secondary={`$${transaction.amount} - ${transaction.date}`} />\n            <ListItemSecondaryAction>\n              <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => deletetransaction(transaction._id)}>\n                <Delete />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        </Slide>\n      ))\n      }\n    </MUIList >\n  );\n};\n\nexport default List;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}