{"ast":null,"code":"import _regeneratorRuntime from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/parshwa/Downloads/project/Money-tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Card,CardHeader,CardContent,Typography,Grid,Divider,Button}from'@material-ui/core';import useStyles from'./styles';import Form from'./Form/Form';import List from'./List/List';import InfoCard from'../InfoCard';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExpenseTracker=function ExpenseTracker(){var navigate=useNavigate();var classes=useStyles();var _useAuth=useAuth(),logout=_useAuth.logout,currentUser=_useAuth.currentUser;var handleLogout=function handleLogout(){logout();navigate(\"/login\");};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],Settransactions=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:5000/api/gettransaction',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:currentUser.email})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;Settransactions(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();var total=0;var balance=function balance(){transactions.map(function(transaction){if(transaction.type===\"Expense\"){total=total-transaction.amount;}else{total=total+transaction.amount;}});};balance();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",color:\"primary\",onClick:handleLogout,style:{margin:\"5px\"},children:[\"Signout - \",currentUser.email]}),/*#__PURE__*/_jsx(CardHeader,{title:\"Money Tracker\",align:\"center\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{align:\"center\",variant:\"h5\",children:[\"Total Balance $\",total]}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{lineHeight:'1.5em',marginTop:'20px'},children:/*#__PURE__*/_jsx(InfoCard,{})}),/*#__PURE__*/_jsx(Divider,{className:classes.divider}),/*#__PURE__*/_jsx(Form,{})]}),/*#__PURE__*/_jsx(CardContent,{className:classes.cartContent,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(List,{})})})})]})});};export default ExpenseTracker;","map":{"version":3,"names":["React","useState","Card","CardHeader","CardContent","Typography","Grid","Divider","Button","useStyles","Form","List","InfoCard","useNavigate","useAuth","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","ExpenseTracker","navigate","classes","_useAuth","logout","currentUser","handleLogout","_useState","_useState2","_slicedToArray","transactions","Settransactions","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","email","sent","json","t0","console","log","stop","apply","arguments","total","balance","map","transaction","type","amount","children","className","root","variant","color","onClick","style","margin","title","align","lineHeight","marginTop","divider","cartContent","container","spacing","item","xs"],"sources":["/home/parshwa/Downloads/project/Money-tracker/frontend/src/components/Main/Main.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardHeader, CardContent, Typography, Grid, Divider, Button } from '@material-ui/core';\nimport useStyles from './styles';\nimport Form from './Form/Form';\nimport List from './List/List';\nimport InfoCard from '../InfoCard';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\n\nconst ExpenseTracker = () => {\n  const navigate = useNavigate();\n  const classes = useStyles();\n  const { logout, currentUser } = useAuth();\n  const handleLogout = () => {\n    logout();\n    navigate(\"/login\");\n  };\n  const [transactions, Settransactions] = useState([]);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/gettransaction', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: currentUser.email\n        })\n      });\n      const data = await response.json();\n      Settransactions(data);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n  fetchData()\n  var total = 0;\n  const balance = () => {\n    transactions.map(transaction => {\n      if (transaction.type === \"Expense\") {\n        total = total - transaction.amount;\n      }\n      else {\n        total = total + transaction.amount;\n      }\n    });\n  }\n  balance();\n\n  return (\n    <>\n      <Card className={classes.root}>\n        <Button variant=\"outlined\" color='primary' onClick={handleLogout} style={{ margin: \"5px\" }}>Signout - {currentUser.email}</Button>\n        <CardHeader title=\"Money Tracker\" align=\"center\" />\n        <CardContent>\n          <Typography align=\"center\" variant=\"h5\">Total Balance ${total}</Typography>\n          <Typography variant=\"subtitle1\" style={{ lineHeight: '1.5em', marginTop: '20px' }}>\n            <InfoCard />\n          </Typography>\n          <Divider className={classes.divider} />\n          <Form />\n        </CardContent>\n        <CardContent className={classes.cartContent}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <List />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    </>\n  );\n};\n\nexport default ExpenseTracker;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}